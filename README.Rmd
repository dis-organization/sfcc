---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```
# sfcc

The goal of sfcc is to provide fast and flexible creation of `sf` simple features geometries. 

For now it's really just for `sfc` vectors of `POINT`. There's some exploration with `MULTIPOINT` but it's no real
improvement. 
This is directly motivated by the set-based idioms of [silicate](https://github.com/hypertidy/silicate), and
the need to bypass the thorough checking done by the sf constructors. 


## Installation

I wouldn't use this as-is, yet. :)


## Example

This example was motivated by [this issue](https://github.com/r-spatial/sf/issues/700), trying to speed up sf creation for POINTs. 


```{r example}
N <- 1e6
df <- data.frame(a = sample(letters, N, replace = TRUE),
                 lng = runif(N, -120, -100),
                 lat = runif(N, 30, 48))


m <- cbind(df$lng, df$lat)
library(rbenchmark)

library(sf)
benchmark(
  sfcc_pt =  st_sf(geometry = sfcc::mk_sfc_POINT(m, crs = 4326), a = df$a),
  sf_pt = st_as_sf(df, coords = c("lng", "lat"))
  ,replications = 2
)

```

